import React from "react";

const stroke_color = "#000";
const stroke_width = "";


const baseNodes = [
{
    id: 0,
    early: 0,
    latest: 0,
    slack: 0,
    name: 0,

    paths: {
      early: "M16.9835 328.017C13.5013 324.534 10.7391 320.4 8.85452 315.851C6.96997 311.301 6 306.425 6 301.5C6 296.575 6.96997 291.699 8.85452 287.149C10.7391 282.6 13.5013 278.466 16.9835 274.983L43.5 301.5L16.9835 328.017Z",
      latest: "M70.0165 274.983C73.4987 278.466 76.2609 282.6 78.1455 287.149C80.03 291.699 81 296.575 81 301.5C81 306.425 80.03 311.301 78.1455 315.851C76.2609 320.4 73.4987 324.534 70.0165 328.017L43.5 301.5L70.0165 274.983Z",
      slack: "M70.0165 328.017C66.5343 331.499 62.4003 334.261 57.8506 336.145C53.3009 338.03 48.4246 339 43.5 339C38.5754 339 33.6991 338.03 29.1494 336.145C24.5996 334.261 20.4657 331.499 16.9835 328.016L43.5 301.5L70.0165 328.017Z",
      name: "M16.9835 274.983C20.4657 271.501 24.5997 268.739 29.1494 266.855C33.6991 264.97 38.5754 264 43.5 264C48.4246 264 53.3009 264.97 57.8506 266.855C62.4003 268.739 66.5343 271.501 70.0165 274.984L43.5 301.5L16.9835 274.983Z",
    },
    textPos: {
      early: { x: 43.5, y: 303 },
      latest: { x: 68, y: 303 },
      slack: { x: 43, y: 326 },
      name: { x: 43, y: 278 },
    },
  },
  {
    id: 10,
    early: 0,
    latest: 0,
    slack: 0,
    name: 10,
    paths: {
      early: "M194.983 205.017C191.501 201.534 188.739 197.4 186.855 192.851C184.97 188.301 184 183.425 184 178.5C184 173.575 184.97 168.699 186.855 164.149C188.739 159.6 191.501 155.466 194.984 151.983L221.5 178.5L194.983 205.017Z",
      latest: "M248.017 151.983C251.499 155.466 254.261 159.6 256.145 164.149C258.03 168.699 259 173.575 259 178.5C259 183.425 258.03 188.301 256.145 192.851C254.261 197.4 251.499 201.534 248.017 205.017L221.5 178.5L248.017 151.983Z",
      slack: "M248.017 205.017C244.534 208.499 240.4 211.261 235.851 213.145C231.301 215.03 226.425 216 221.5 216C216.575 216 211.699 215.03 207.149 213.145C202.6 211.261 198.466 208.499 194.983 205.016L221.5 178.5L248.017 205.017Z",
      name: "M194.983 151.983C198.466 148.501 202.6 145.739 207.149 143.855C211.699 141.97 216.575 141 221.5 141C226.425 141 231.301 141.97 235.851 143.855C240.4 145.739 244.534 148.501 248.017 151.984L221.5 178.5L194.983 151.983Z",
    },
    textPos: {
      early: { x: 197.5, y: 180 },
      latest: { x: 247, y: 180 },
      slack: { x: 221.5, y: 204 },
      name: { x: 221.5, y: 156 },
    },
  },
  {
    id: 20,
    early: 0,
    latest: 0,
    slack: 0,
    name: 20,
    paths: {
      early: "M185.983 495.017C182.501 491.534 179.739 487.4 177.855 482.851C175.97 478.301 175 473.425 175 468.5C175 463.575 175.97 458.699 177.855 454.149C179.739 449.6 182.501 445.466 185.984 441.983L212.5 468.5L185.983 495.017Z",
      latest: "M239.017 441.983C242.499 445.466 245.261 449.6 247.145 454.149C249.03 458.699 250 463.575 250 468.5C250 473.425 249.03 478.301 247.145 482.851C245.261 487.4 242.499 491.534 239.017 495.017L212.5 468.5L239.017 441.983Z",
      slack: "M239.017 495.017C235.534 498.499 231.4 501.261 226.851 503.145C222.301 505.03 217.425 506 212.5 506C207.575 506 202.699 505.03 198.149 503.145C193.6 501.261 189.466 498.499 185.983 495.016L212.5 468.5L239.017 495.017Z",
      name: "M185.983 441.983C189.466 438.501 193.6 435.739 198.149 433.855C202.699 431.97 207.575 431 212.5 431C217.425 431 222.301 431.97 226.851 433.855C231.4 435.739 235.534 438.501 239.017 441.984L212.5 468.5L185.983 441.983Z",
    },
    textPos: {
      early: { x: 188, y: 470 },
      latest: { x: 237, y: 470 },
      slack: { x: 212, y: 493 },
      name: { x: 212, y: 445 },
    },
  },
  {
    id: 30,
    early: 0,
    latest: 0,
    slack: 0,
    name: 30,
    paths: {
      early: "M362.983 205.017C359.501 201.534 356.739 197.4 354.855 192.851C352.97 188.301 352 183.425 352 178.5C352 173.575 352.97 168.699 354.855 164.149C356.739 159.6 359.501 155.466 362.984 151.983L389.5 178.5L362.983 205.017Z",
      latest: "M416.017 151.983C419.499 155.466 422.261 159.6 424.145 164.149C426.03 168.699 427 173.575 427 178.5C427 183.425 426.03 188.301 424.145 192.851C422.261 197.4 419.499 201.534 416.017 205.017L389.5 178.5L416.017 151.983Z",
      slack: "M416.017 205.017C412.534 208.499 408.4 211.261 403.851 213.145C399.301 215.03 394.425 216 389.5 216C384.575 216 379.699 215.03 375.149 213.145C370.6 211.261 366.466 208.499 362.983 205.016L389.5 178.5L416.017 205.017Z",
      name: "M362.983 151.983C366.466 148.501 370.6 145.739 375.149 143.855C379.699 141.97 384.575 141 389.5 141C394.425 141 399.301 141.97 403.851 143.855C408.4 145.739 412.534 148.501 416.017 151.984L389.5 178.5L362.983 151.983Z",
    },
    textPos: {
      early: { x: 365.75, y: 182 },
      latest: { x: 414.75, y: 182 },
      slack: { x: 389.75, y: 205 },
      name: { x: 389.5, y: 156 },
    },
  },

  // Nodo 40
  {
    id: 40,
    early: 0,
    latest: 0,
    slack: 0,
    name: 40,
    paths: {
      early: "M335.983 355.017C332.501 351.534 329.739 347.4 327.855 342.851C325.97 338.301 325 333.425 325 328.5C325 323.575 325.97 318.699 327.855 314.149C329.739 309.6 332.501 305.466 335.984 301.983L362.5 328.5L335.983 355.017Z",
      latest: "M389.017 301.983C392.499 305.466 395.261 309.6 397.145 314.149C399.03 318.699 400 323.575 400 328.5C400 333.425 399.03 338.301 397.145 342.851C395.261 347.4 392.499 351.534 389.017 355.017L362.5 328.5L389.017 301.983Z",
      slack: "M389.017 355.017C385.534 358.499 381.4 361.261 376.851 363.145C372.301 365.03 367.425 366 362.5 366C357.575 366 352.699 365.03 348.149 363.145C343.6 361.261 339.466 358.499 335.983 355.016L362.5 328.5L389.017 355.017Z",
      name: "M335.983 301.983C339.466 298.501 343.6 295.739 348.149 293.855C352.699 291.97 357.575 291 362.5 291C367.425 291 372.301 291.97 376.851 293.855C381.4 295.739 385.534 298.501 389.017 301.984L362.5 328.5L335.983 301.983Z",
    },
    textPos: {
      early: { x: 338, y: 330 },
      latest: { x: 387, y: 330 },
      slack: { x: 362, y: 353 },
      name: { x: 362, y: 305 },
    },
  },

  // Nodo 50
  {
    id: 50,
    early: 0,
    latest: 0,
    slack: 0,
    name: 50,
    paths: {
      early: "M497.983 514.017C494.501 510.534 491.739 506.4 489.855 501.851C487.97 497.301 487 492.425 487 487.5C487 482.575 487.97 477.699 489.855 473.149C491.739 468.6 494.501 464.466 497.984 460.983L524.5 487.5L497.983 514.017Z",
      latest: "M551.017 460.983C554.499 464.466 557.261 468.6 559.145 473.149C561.03 477.699 562 482.575 562 487.5C562 492.425 561.03 497.301 559.145 501.851C557.261 506.4 554.499 510.534 551.017 514.017L524.5 487.5L551.017 460.983Z",
      slack: "M551.017 514.017C547.534 517.499 543.4 520.261 538.851 522.145C534.301 524.03 529.425 525 524.5 525C519.575 525 514.699 524.03 510.149 522.145C505.6 520.261 501.466 517.499 497.983 514.016L524.5 487.5L551.017 514.017Z",
      name: "M497.983 460.983C501.466 457.501 505.6 454.739 510.149 452.855C514.699 450.97 519.575 450 524.5 450C529.425 450 534.301 450.97 538.851 452.855C543.4 454.739 547.534 457.501 551.017 460.984L524.5 487.5L497.983 460.983Z",
    },
    textPos: {
      early: { x: 500.75, y: 492.1 },
      latest: { x: 549.75, y: 492.1 },
      slack: { x: 524.75, y: 515.1 },
      name: { x: 524.5, y: 469.1 },
    },
  },
  // Nodo 60
  {
    id: 60,
    early: 0,
    latest: 0,
    slack: 0,
    name: 60,
    paths: {
      early: "M563.983 350.017C560.501 346.534 557.739 342.4 555.855 337.851C553.97 333.301 553 328.425 553 323.5C553 318.575 553.97 313.699 555.855 309.149C557.739 304.6 560.501 300.466 563.984 296.983L590.5 323.5L563.983 350.017Z",
      latest: "M617.017 296.983C620.499 300.466 623.261 304.6 625.145 309.149C627.03 313.699 628 318.575 628 323.5C628 328.425 627.03 333.301 625.145 337.851C623.261 342.4 620.499 346.534 617.017 350.017L590.5 323.5L617.017 296.983Z",
      slack: "M617.017 350.017C613.534 353.499 609.4 356.261 604.851 358.145C600.301 360.03 595.425 361 590.5 361C585.575 361 580.699 360.03 576.149 358.145C571.6 356.261 567.466 353.499 563.983 350.016L590.5 323.5L617.017 350.017Z",
      name: "M563.983 296.983C567.466 293.501 571.6 290.739 576.149 288.855C580.699 286.97 585.575 286 590.5 286C595.425 286 600.301 286.97 604.851 288.855C609.4 290.739 613.534 293.501 617.017 296.984L590.5 323.5L563.983 296.983Z",
    },
    textPos: {
      early: { x: 566.75, y: 324 },
      latest: { x: 615.75, y: 324 },
      slack: { x: 590.75, y: 347 },
      name: { x: 590.5, y: 301 },
    },
  },

  // Nodo 70
  {
    id: 70,
    early: 0,
    latest: 0,
    slack: 0,
    name: 70,
    paths: {
      early: "M747.983 518.017C744.501 514.534 741.739 510.4 739.855 505.851C737.97 501.301 737 496.425 737 491.5C737 486.575 737.97 481.699 739.855 477.149C741.739 472.6 744.501 468.466 747.984 464.983L774.5 491.5L747.983 518.017Z",
      latest: "M801.017 464.983C804.499 468.466 807.261 472.6 809.145 477.149C811.03 481.699 812 486.575 812 491.5C812 496.425 811.03 501.301 809.145 505.851C807.261 510.4 804.499 514.534 801.017 518.017L774.5 491.5L801.017 464.983Z",
      slack: "M801.017 518.017C797.534 521.499 793.4 524.261 788.851 526.145C784.301 528.03 779.425 529 774.5 529C769.575 529 764.699 528.03 760.149 526.145C755.6 524.261 751.466 521.499 747.983 518.016L774.5 491.5L801.017 518.017Z",
      name: "M747.983 464.983C751.466 461.501 755.6 458.739 760.149 456.855C764.699 454.97 769.575 454 774.5 454C779.425 454 784.301 454.97 788.851 456.855C793.4 458.739 797.534 461.501 801.017 464.984L774.5 491.5L747.983 464.983Z",
    },
    textPos: {
      early: { x: 750.75, y: 495.5 },
      latest: { x: 799.75, y: 495.5 },
      slack: { x: 774.75, y: 518.5 },
      name: { x: 774.5, y: 472.5 },
    },
  },

  // Nodo 80
  {
    id: 80,
    early: 0,
    latest: 0,
    slack: 0,
    name: 80,
    paths: {
      early: "M633.983 200.017C630.501 196.534 627.739 192.4 625.855 187.851C623.97 183.301 623 178.425 623 173.5C623 168.575 623.97 163.699 625.855 159.149C627.739 154.6 630.501 150.466 633.984 146.983L660.5 173.5L633.983 200.017Z",
      latest: "M687.017 146.983C690.499 150.466 693.261 154.6 695.145 159.149C697.03 163.699 698 168.575 698 173.5C698 178.425 697.03 183.301 695.145 187.851C693.261 192.4 690.499 196.534 687.017 200.017L660.5 173.5L687.017 146.983Z",
      slack: "M687.017 200.017C683.534 203.499 679.4 206.261 674.851 208.145C670.301 210.03 665.425 211 660.5 211C655.575 211 650.699 210.03 646.149 208.145C641.6 206.261 637.466 203.499 633.983 200.016L660.5 173.5L687.017 200.017Z",
      name: "M633.983 146.983C637.466 143.501 641.6 140.739 646.149 138.855C650.699 136.97 655.575 136 660.5 136C665.425 136 670.301 136.97 674.851 138.855C679.4 140.739 683.534 143.501 687.017 146.984L660.5 173.5L633.983 146.983Z",
    },
    textPos: {
      early: { x: 636.75, y: 175.5 },
      latest: { x: 685.75, y: 175.5 },
      slack: { x: 660.75, y: 197.5 },
      name: { x: 660.5, y: 151.5 },
    },
  },

  // Nodo 90
  {
    id: 90,
    early: 0,
    latest: 0,
    slack: 0,
    name: 90,
    paths: {
      early: "M798.983 341.017C795.501 337.534 792.739 333.4 790.855 328.851C788.97 324.301 788 319.425 788 314.5C788 309.575 788.97 304.699 790.855 300.149C792.739 295.6 795.501 291.466 798.984 287.983L825.5 314.5L798.983 341.017Z",
      latest: "M852.017 287.983C855.499 291.466 858.261 295.6 860.145 300.149C862.03 304.699 863 309.575 863 314.5C863 319.425 862.03 324.301 860.145 328.851C858.261 333.4 855.499 337.534 852.017 341.017L825.5 314.5L852.017 287.983Z",
      slack: "M852.017 341.017C848.534 344.499 844.4 347.261 839.851 349.145C835.301 351.03 830.425 352 825.5 352C820.575 352 815.699 351.03 811.149 349.145C806.6 347.261 802.466 344.499 798.983 341.016L825.5 314.5L852.017 341.017Z",
      name: "M798.983 287.983C802.466 284.501 806.6 281.739 811.149 279.855C815.699 277.97 820.575 277 825.5 277C830.425 277 835.301 277.97 839.851 279.855C844.4 281.739 848.534 284.501 852.017 287.984L825.5 314.5L798.983 287.983Z",
    },
    textPos: {
      early: { x: 801.75, y: 317.5 },
      latest: { x: 850.75, y: 317.5 },
      slack: { x: 825.75, y: 340 },
      name: { x: 825.5, y: 290.5 },
    },
  },
];

const edges = [
  { id: "edge-0-10", d: "M70 273L182 186" },
  { id: "edge-0-20", d: "M70 328L185 451" },
  { id: "edge-0-30", d: "M81 299L356 200" },
  { id: "edge-10-30", d: "M260 174.109L349 173.991" },
  { id: "edge-20-40", d: "M233 447L330 346" },
  { id: "edge-40-60", d: "M393 318L555 323" },
  { id: "edge-20-50", d: "M248 482L485 487" },
  { id: "edge-50-70", d: "M563 491L735 493" },
  { id: "edge-80-90", d: "M689 199L799 289" },
  { id: "edge-20-60", d: "M248 468L563 351" },
  { id: "edge-60-80", d: "M604 296L643 207" },
  { id: "edge-70-90", d: "M789 461L825 354" },
  { id: "edge-30-80", d: "M617 173L429 174" },
];

const SvgComponent = ({ simData }) => {

  const updatedNodes = baseNodes.map((node) => {
    const match = simData?.nodesData?.find((n) => n.id === node.id);
    return match
      ? { ...node, early: match.early, latest: match.latest, slack: match.slack }
      : node;
  });

  return (
    <svg width="900" height="600" viewBox="0 0 900 600" fill="none">
      {/* Rutas */}
      {edges.map((edge) => (
        <path
          key={edge.id}
          id={edge.id}
          d={edge.d}
          stroke={stroke_color}
          strokeWidth={stroke_width}
        />
      ))}

      {/* Nodos */}
      {updatedNodes.map((node) => (
        <g key={node.id} id={`Nodo${node.id}`}>
          {["early", "latest", "slack", "name"].map((type) => (
            <g key={type} id={`${type}_${node.id}`}>
              <mask id={`mask-${type}-${node.id}`} fill="white">
                <path d={node.paths[type]} />
              </mask>
              <path
                d={node.paths[type]}
                fill="#D9D9D9"
                stroke="black"
                mask={`url(#mask-${type}-${node.id})`}
              />
              <text
                x={node.textPos[type].x}
                y={node.textPos[type].y}
                textAnchor="middle"
                alignmentBaseline="middle"
                fontSize={type === "name" ? 11 : 10}
                fontWeight={type === "name" ? "bold" : "normal"}
                fill="black"
              >
                {node[type]}
              </text>
            </g>
          ))}
        </g>
      ))}
    </svg>
  );
};

export default SvgComponent;
